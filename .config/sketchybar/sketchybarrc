#!/usr/bin/env sh

# --- CORES (Dracula) ---
BLACK=0xff282a36
WHITE=0xfff8f8f2
RED=0xffff5555
GREEN=0xff50fa7b
BLUE=0xff8be9fd
YELLOW=0xfff1fa8c
ORANGE=0xffffb86c
MAGENTA=0xffbd93f9
GREY=0xff44475a
TRANSPARENT=0x00000000

# --- CONFIGURAÇÃO DA BARRA ---
# --- CONFIGURAÇÃO DA BARRA ---
sketchybar --bar \
  height=44 \
  color=0x00000000 \
  border_width=0 \
  position=top \
  y_offset=6 \
  margin=12 \
  sticky=on \
  padding_left=12 \
  padding_right=12

# --- PADRÕES (DEFAULTS) ---
sketchybar --default \
  icon.font="JetBrainsMono Nerd Font:Bold:15.0" \
  icon.color=0xfff8f8f2 \
  label.font="JetBrainsMono Nerd Font:Bold:14.0" \
  label.color=0xfff8f8f2 \
  background.color=0x00000000 \
  icon.padding_left=8 \
  icon.padding_right=8 \
  label.padding_left=4 \
  label.padding_right=8 \
  label.y_offset=0

# ==============================================================================
#  ESQUERDA: WORKSPACES (ILHA 1)
# ==============================================================================

SPACE_ICONS=("1" "2" "3" "4" "5" "6" "7" "8" "9" "10")

for i in "${!SPACE_ICONS[@]}"; do
  sid=$(($i+1))

  sketchybar --add space space.$sid left \
    --set space.$sid \
      space=$sid \
      icon="${SPACE_ICONS[i]}" \
      icon.padding_left=12 \
      icon.padding_right=12 \
      label.drawing=off \
      background.drawing=off \
      script="$HOME/.config/sketchybar/plugins/space.sh"
done

# Bracket para Spaces (Fundo unificado)
sketchybar --add bracket spaces_bracket '/space\..*/' \
  --set spaces_bracket \
    background.color=0xff282a36 \
    background.corner_radius=10 \
    background.border_color=0xff44475a \
    background.border_width=2 \
    background.height=32

# ==============================================================================
#  CENTRO: TÍTULO DA JANELA (ILHA 2)
# ==============================================================================

sketchybar --add item title center \
  --set title \
    icon.drawing=off \
    label.color=0xfff8f8f2 \
    background.color=0xff282a36 \
    background.corner_radius=10 \
    background.border_color=0xff44475a \
    background.border_width=2 \
    background.height=32 \
    padding_left=10 \
    padding_right=10 \
    script="$HOME/.config/sketchybar/plugins/title.sh" \
    --subscribe title front_app_switched

# ==============================================================================
#  DIREITA: STATUS SISTEMA (ILHA 3)
# ==============================================================================

# WiFi
sketchybar --add item wifi right \
  --set wifi \
    update_freq=10 \
    icon.color=0xffffb86c \
    script="$HOME/.config/sketchybar/plugins/wifi.sh"

# CPU
sketchybar --add item cpu right \
  --set cpu \
    update_freq=5 \
    icon="" \
    icon.color=0xffff5555 \
    script="$HOME/.config/sketchybar/plugins/cpu.sh"

# Volume
sketchybar --add item volume right \
  --set volume \
    script="$HOME/.config/sketchybar/plugins/volume.sh" \
    --subscribe volume volume_change

# Bateria
sketchybar --add item battery right \
  --set battery \
    update_freq=120 \
    script="$HOME/.config/sketchybar/plugins/battery.sh" \
    --subscribe battery system_woke power_source_change

# Relógio
sketchybar --add item clock right \
  --set clock \
    update_freq=10 \
    icon="" \
    icon.color=0xff8be9fd \
    script="$HOME/.config/sketchybar/plugins/clock.sh"

# Bracket para Status (Fundo unificado)
sketchybar --add bracket status_bracket wifi cpu volume battery clock \
  --set status_bracket \
    background.color=0xff282a36 \
    background.corner_radius=10 \
    background.border_color=0xff44475a \
    background.border_width=2 \
    background.height=32


# Finaliza a configuração
sketchybar --update
